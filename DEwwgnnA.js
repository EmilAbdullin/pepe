import{F as G,r as u,o as W,G as R,d as z,y as f,z as g,A as e,H as k,I as A,B as m,J as n,K as H,L as O,M as L,E as P,_ as $}from"./ChWu76HW.js";const T=G("/ChatGPT Image 20 —è–Ω–≤. 2026 –≥., 14_50_54.png");class K{constructor(){this.ctx=null,this.isSoundOn=!0,this.buffers={},this.wordFiles={–§–ê–ê:"/FA.mp3",–í–ê–¢–ê–§–ê:"/WATAFA.mp3",–®–ù–ï–ô–ù–ï:"/SHNEYNE.mp3","–ö–•–ï-–ö–•–ï":"/KHE.mp3"},typeof window<"u"&&(this.isSoundOn=localStorage.getItem("watafa_sound")!=="false",this.loadSounds())}async loadSounds(){if(!(typeof window>"u")){this.initCtx();for(const[s,o]of Object.entries(this.wordFiles))try{const p=await(await fetch(o)).arrayBuffer(),v=await this.ctx.decodeAudioData(p);this.buffers[s]=v}catch(l){console.error(`Failed to load sound for ${s}:`,l)}}}initCtx(){this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext)),this.ctx.state==="suspended"&&this.ctx.resume()}toggleSound(){return this.isSoundOn=!this.isSoundOn,localStorage.setItem("watafa_sound",String(this.isSoundOn)),this.isSoundOn}getSettings(){return{sound:this.isSoundOn,voice:!0}}playBuffer(s){if(!this.isSoundOn)return;this.initCtx();const o=this.ctx.createBufferSource();o.buffer=s,o.connect(this.ctx.destination),o.start()}playFail(){this.buffers["–ö–•–ï-–ö–•–ï"]&&this.playBuffer(this.buffers["–ö–•–ï-–ö–•–ï"])}playCoin(){this.buffers.–§–ê–ê&&this.playBuffer(this.buffers.–§–ê–ê)}playWord(s){this.buffers[s]&&this.playBuffer(this.buffers[s])}toggleVoice(){return!0}}const h=typeof window<"u"?new K:null,U=globalThis.setInterval,S=["–§–ê–ê","–í–ê–¢–ê–§–ê","–®–ù–ï–ô–ù–ï","–ö–•–ï-–ö–•–ï"],j=()=>{const r=u("idle"),s=u(0),o=u(0),l=u("–§–ê–ê"),p=u(100),v=u(!1),b=u(!0),y=u(!0),d=u([...S]);let c=null,w=0,x=1200,t=[];const a=()=>{s.value>o.value&&(o.value=s.value,localStorage.setItem("watafa_best",String(o.value)))},_=()=>{let i;do i=S[Math.floor(Math.random()*S.length)];while(t.length>=2&&t.every(V=>V===i));return t.push(i),t.length>2&&t.shift(),i},C=()=>{s.value>=10?d.value=[...d.value].sort(()=>Math.random()-.5):d.value=[...S]},B=()=>{r.value="over",v.value=!0,a(),h?.playFail(),c&&clearInterval(c),setTimeout(()=>{v.value=!1},500)},E=()=>{s.value++,l.value=_(),x=Math.max(350,1200-s.value*35),C(),I()},I=()=>{c&&clearInterval(c),w=Date.now(),c=U(()=>{const i=Date.now()-w;p.value=Math.max(0,100-i/x*100),p.value<=0&&B()},16)},F=()=>{s.value=0,r.value="running",l.value=_(),x=1200,p.value=100,t=[l.value],C(),h?.playCoin(),I()},M=i=>{r.value==="running"&&(h?.playWord(i),i===l.value?E():B())},D=()=>{h&&(b.value=h.toggleSound())},N=()=>{h&&(y.value=h.toggleVoice())};return W(()=>{if(o.value=Number(localStorage.getItem("watafa_best")||0),h){const i=h.getSettings();b.value=i.sound,y.value=i.voice}}),R(()=>{c&&clearInterval(c)}),{state:r,score:s,bestScore:o,currentWord:l,progress:p,isShaking:v,soundEnabled:b,voiceEnabled:y,shuffledWords:d,startGame:F,handleTap:M,toggleSound:D,toggleVoice:N}},J=()=>{if(typeof window<"u"&&window.Telegram?.WebApp){const r=window.Telegram.WebApp;return r.ready(),r.expand(),r}return null},Y={class:"swag-overlay"},q=["src"],Q={class:"hud"},X={class:"stats"},Z={class:"text-gold"},ee={class:"text-diamond"},te={class:"main-display"},se={key:0,class:"screen-center"},ne={key:1,class:"screen-center"},ae={class:"word-display text-accent"},oe={class:"progress-bar-container"},ie={key:2,class:"screen-center"},le={class:"final-stats"},re={class:"text-gold"},de={class:"text-diamond"},ce={class:"action-buttons"},ue={class:"game-footer"},fe={class:"buttons-grid"},ge=["onClick","disabled"],he=z({__name:"index",setup(r){const{state:s,score:o,bestScore:l,currentWord:p,progress:v,isShaking:b,shuffledWords:y,startGame:d,handleTap:c}=j(),w=[{char:"üíµ",left:"10%",delay:"0s"},{char:"üíé",left:"25%",delay:"2s"},{char:"üí∞",left:"45%",delay:"1s"},{char:"üíé",left:"70%",delay:"3.5s"},{char:"üíµ",left:"85%",delay:"0.5s"},{char:"ü§ë",left:"15%",delay:"4s"},{char:"üíé",left:"55%",delay:"2.5s"},{char:"üí∏",left:"80%",delay:"1.5s"},{img:"/bitcoin-btc-logo.svg",left:"35%",delay:"3s"},{img:"/bitcoin-btc-logo.svg",left:"65%",delay:"1.5s"}];return W(()=>{J()}),(x,t)=>(g(),f("div",{id:"teleport-target",class:L([{shake:n(b)},"game-container"])},[e("div",Y,[(g(),f(k,null,A(w,(a,_)=>e("div",{key:_,class:"swag-item",style:O({left:a.left,animationDelay:a.delay})},[a.img?(g(),f("img",{key:0,src:a.img,class:"swag-img"},null,8,q)):(g(),f(k,{key:1},[P(m(a.char),1)],64))],4)),64))]),e("header",Q,[e("div",X,[e("div",Z,"–°–ß–ï–¢: "+m(n(o))+" üí∞",1),e("div",ee,"–†–ï–ö–û–†–î: "+m(n(l))+" üíé",1)])]),e("main",te,[n(s)==="idle"?(g(),f("div",se,[t[2]||(t[2]=e("div",{class:"character-container"},[e("img",{src:T,alt:"Pepe",class:"hero-img"})],-1)),t[3]||(t[3]=e("h1",{class:"title text-neon text-gold"},"–í–ê–¢–ê–§–ê –¢–ê–ü üíé",-1)),t[4]||(t[4]=e("p",{class:"blink"},"–ù–ê–ñ–ú–ò –°–¢–ê–†–¢ $",-1)),e("button",{onClick:t[0]||(t[0]=(...a)=>n(d)&&n(d)(...a)),class:"pixel-button start-btn swag-btn btn-green"},"–°–¢–ê–†–¢")])):n(s)==="running"?(g(),f("div",ne,[e("div",ae,m(n(p)),1),e("div",oe,[e("div",{class:"progress-bar",style:O({width:n(v)+"%"})},null,4)])])):n(s)==="over"?(g(),f("div",ie,[t[5]||(t[5]=e("img",{src:T,alt:"Pepe Over",class:"hero-img-small"},null,-1)),t[6]||(t[6]=e("h2",{class:"text-fail"},"–ö–û–ù–ï–¶ –ò–ì–†–´",-1)),t[7]||(t[7]=e("p",{class:"khe-label blink"},"–ö–•–ï-–ö–•–ï... üí∏",-1)),e("div",le,[e("p",re,"–°–ß–ï–¢: "+m(n(o))+" üí∞",1),e("p",de,"–†–ï–ö–û–†–î: "+m(n(l))+" üíé",1)]),e("div",ce,[e("button",{onClick:t[1]||(t[1]=(...a)=>n(d)&&n(d)(...a)),class:"pixel-button swag-btn btn-yellow"},"–ï–©–ï –†–ê–ó")])])):H("",!0)]),e("footer",ue,[e("div",fe,[(g(!0),f(k,null,A(n(y),a=>(g(),f("button",{key:a,onClick:_=>n(c)(a),class:"pixel-button game-btn btn-green",disabled:n(s)!=="running"},m(a),9,ge))),128))])])],2))}}),ve=$(he,[["__scopeId","data-v-1d248e3e"]]);export{ve as default};
